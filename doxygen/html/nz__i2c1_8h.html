<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Netcruzer Library API: netcruzer/lib/nz_i2c1.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Netcruzer Library API
   &#160;<span id="projectnumber">V2.03</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nz__i2c1_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nz_i2c1.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>I2C1 Functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;i2c.h&gt;</code><br/>
</div>
<p><a href="nz__i2c1_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51f291f83678490ff66faedb7182f337"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51f291f83678490ff66faedb7182f337"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USE_AND_OR</b></td></tr>
<tr class="separator:a51f291f83678490ff66faedb7182f337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac417e83e98875bda6982e8e32054d6a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ac417e83e98875bda6982e8e32054d6a2">I2C_BAUD_100K</a>&#160;&#160;&#160;157</td></tr>
<tr class="separator:ac417e83e98875bda6982e8e32054d6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab432ac6a5a3213ff40eef8cca1440374"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ab432ac6a5a3213ff40eef8cca1440374">I2C_BAUD_400K</a>&#160;&#160;&#160;37</td></tr>
<tr class="separator:ab432ac6a5a3213ff40eef8cca1440374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97abe86894c656b65c78f6146a33844f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a97abe86894c656b65c78f6146a33844f">I2C_BAUD_970K</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a97abe86894c656b65c78f6146a33844f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53049ae3551ef484ef1ac763b0294faf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a53049ae3551ef484ef1ac763b0294faf">I2C_BAUD_1M</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a53049ae3551ef484ef1ac763b0294faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f0f87ecf68c26d0e8864a115c74f5a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#af4f0f87ecf68c26d0e8864a115c74f5a">i2c1PutStop</a>()&#160;&#160;&#160;(I2C1CONbits.PEN = 1)</td></tr>
<tr class="separator:af4f0f87ecf68c26d0e8864a115c74f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2482fb4354d010ad576cee9967027f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ab2482fb4354d010ad576cee9967027f0">i2c1PutStopAndWait</a>()&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#af4f0f87ecf68c26d0e8864a115c74f5a">i2c1PutStop</a>(); while(I2C1CONbits.PEN);}</td></tr>
<tr class="separator:ab2482fb4354d010ad576cee9967027f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f3b0e53c94687d2b72ec43a817bbc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ac2f3b0e53c94687d2b72ec43a817bbc8">i2c1PutStart</a>()&#160;&#160;&#160;(I2C1CONbits.SEN = 1)</td></tr>
<tr class="separator:ac2f3b0e53c94687d2b72ec43a817bbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fc76e9e2124e69a39637a7f2cd4064"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ad7fc76e9e2124e69a39637a7f2cd4064">i2c1PutStartAndWait</a>()&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#ac2f3b0e53c94687d2b72ec43a817bbc8">i2c1PutStart</a>(); while(I2C1CONbits.SEN);}</td></tr>
<tr class="separator:ad7fc76e9e2124e69a39637a7f2cd4064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05cff5885e318e19dd720d877a50b219"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a05cff5885e318e19dd720d877a50b219">i2c1Restart</a>()&#160;&#160;&#160;(I2C1CONbits.RSEN = 1)</td></tr>
<tr class="separator:a05cff5885e318e19dd720d877a50b219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a275adefec5c3dfd8c1e8f0a97fb1c1f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a275adefec5c3dfd8c1e8f0a97fb1c1f7">i2c1RestartAndWait</a>()&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#a05cff5885e318e19dd720d877a50b219">i2c1Restart</a>(); while (I2C1CONbits.RSEN);}</td></tr>
<tr class="separator:a275adefec5c3dfd8c1e8f0a97fb1c1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38f411a749480dbcae795b595a01b18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ab38f411a749480dbcae795b595a01b18">i2c1PutNack</a>()&#160;&#160;&#160;{I2C1CONbits.ACKDT=1; I2C1CONbits.ACKEN=1; }</td></tr>
<tr class="separator:ab38f411a749480dbcae795b595a01b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca55c460478ec2c66a57d3076dbfc0a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#aca55c460478ec2c66a57d3076dbfc0a5">i2c1PutNackAndWait</a>()&#160;&#160;&#160;{I2C1CONbits.ACKDT=1; I2C1CONbits.ACKEN=1; while(I2C1CONbits.ACKEN); /*Wait till finished*/}</td></tr>
<tr class="separator:aca55c460478ec2c66a57d3076dbfc0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3aae81754abe160fa04f3f1ca99c71e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ae3aae81754abe160fa04f3f1ca99c71e">i2c1PutAck</a>()</td></tr>
<tr class="separator:ae3aae81754abe160fa04f3f1ca99c71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3944969a5898e128cb5acdf3c06b8192"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a3944969a5898e128cb5acdf3c06b8192">i2c1PutAckAndWait</a>()</td></tr>
<tr class="separator:a3944969a5898e128cb5acdf3c06b8192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0d529531fae35933f378385f4ed639"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a0e0d529531fae35933f378385f4ed639">i2c1WaitForIdle</a>()&#160;&#160;&#160;{while ((I2C1CON &amp; 0x001f) || I2C1STATbits.TRSTAT);}</td></tr>
<tr class="separator:a0e0d529531fae35933f378385f4ed639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750c0eb7af4d950dfd4f041e9264cd3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a750c0eb7af4d950dfd4f041e9264cd3c">i2c1IsIdle</a>()&#160;&#160;&#160;(((I2C1CONbits &amp; 0x1F) || (I2C1STATbits.TRSTAT)) ? FALSE : TRUE)</td></tr>
<tr class="separator:a750c0eb7af4d950dfd4f041e9264cd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78da9424e2034e59d9b1dde4e35fd87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ae78da9424e2034e59d9b1dde4e35fd87">i2c1WasAckReceived</a>()&#160;&#160;&#160;(!I2C1STATbits.ACKSTAT)</td></tr>
<tr class="separator:ae78da9424e2034e59d9b1dde4e35fd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f3f8c37f0c7df04d7fcdc8aaadebf1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a06f3f8c37f0c7df04d7fcdc8aaadebf1">i2c1BusCollision</a>()&#160;&#160;&#160;(PIR2bits.BCLIF)</td></tr>
<tr class="separator:a06f3f8c37f0c7df04d7fcdc8aaadebf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa801385ef5d1dfa80d0aed9751e0feec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#aa801385ef5d1dfa80d0aed9751e0feec">i2c1Close</a>()&#160;&#160;&#160;{CloseI2C1();}</td></tr>
<tr class="separator:aa801385ef5d1dfa80d0aed9751e0feec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c464cce6c334ea9c3db08d6f737baa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a26c464cce6c334ea9c3db08d6f737baa">i2c1DataRdy</a>()&#160;&#160;&#160;(I2C1STATbits.RBF==1 ? TRUE : FALSE)</td></tr>
<tr class="separator:a26c464cce6c334ea9c3db08d6f737baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa2c647ae44fe348b8613100ef5f793ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#aa2c647ae44fe348b8613100ef5f793ac">i2c1Open</a> (WORD baud)</td></tr>
<tr class="separator:aa2c647ae44fe348b8613100ef5f793ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a772096fd5dd1f0867268742811a06"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ac3a772096fd5dd1f0867268742811a06">i2c1ReadByte</a> (UINT8 *dataByte, UINT8 ack)</td></tr>
<tr class="separator:ac3a772096fd5dd1f0867268742811a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade544678d7b820823cf4b5361a574ea1"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#ade544678d7b820823cf4b5361a574ea1">i2c1WriteByte</a> (UINT8 data_out)</td></tr>
<tr class="separator:ade544678d7b820823cf4b5361a574ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c1ed1aefcff6653b8bc82cdecffe69"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a85c1ed1aefcff6653b8bc82cdecffe69">i2c1WriteByteAndWait</a> (UINT8 data_out)</td></tr>
<tr class="separator:a85c1ed1aefcff6653b8bc82cdecffe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9e13121824fa6e8582543485d402e9"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#acd9e13121824fa6e8582543485d402e9">i2c1WriteSlaveByte</a> (UINT8 slaveAdr, UINT8 b1)</td></tr>
<tr class="separator:acd9e13121824fa6e8582543485d402e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e868db450ec3a8e9001372e1eb576d"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a52e868db450ec3a8e9001372e1eb576d">i2c1WriteSlaveBytes</a> (UINT8 slaveAdr, UINT8 b1, UINT8 b2)</td></tr>
<tr class="separator:a52e868db450ec3a8e9001372e1eb576d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce06ae2efbe5b6b4392707c7cb204f3"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#adce06ae2efbe5b6b4392707c7cb204f3">i2c1WriteSlaveBlock</a> (UINT8 slaveAdr, UINT8 *dataBytes, UINT8 size)</td></tr>
<tr class="separator:adce06ae2efbe5b6b4392707c7cb204f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf64d7145bd384920dc9e25e61d29ff"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a8cf64d7145bd384920dc9e25e61d29ff">i2c1WriteSlaveRegBlock</a> (UINT8 slaveAdr, UINT8 regAdr, UINT8 *dataBytes, UINT8 size)</td></tr>
<tr class="separator:a8cf64d7145bd384920dc9e25e61d29ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f759379c02d3a498719e3551eb3c15"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a58f759379c02d3a498719e3551eb3c15">i2c1WriteSlaveRegString</a> (UINT8 slaveAdr, UINT8 regAdr, char *str)</td></tr>
<tr class="separator:a58f759379c02d3a498719e3551eb3c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563c226bf741e2c3c7a7385a5d3278b0"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#a563c226bf741e2c3c7a7385a5d3278b0">i2c1ReadSlaveReg</a> (UINT8 slaveAdr, UINT8 regAdr, UINT8 *dataByte)</td></tr>
<tr class="separator:a563c226bf741e2c3c7a7385a5d3278b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5a97bcd1caa86481c593f0b2b9e22e"><td class="memItemLeft" align="right" valign="top">INT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__i2c1_8h.html#acf5a97bcd1caa86481c593f0b2b9e22e">i2c1ReadSlaveRegBlock</a> (UINT8 slaveAdr, UINT8 regAdr, UINT8 *dataBytes, UINT8 size)</td></tr>
<tr class="separator:acf5a97bcd1caa86481c593f0b2b9e22e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I2C1 Functions. </p>
<dl class="section author"><dt>Author</dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="section user"><dt>Compiler:</dt><dd>MPLAB XC16 Compiler</dd></dl>
<h1><a class="anchor" id="nz_i2c1_desc"></a>
Description</h1>
<p>This module contains code for reading and writing devices on the I2C bus 1. All communication is synchronous. It is recommended to use the nz_serI2C module in stead!</p>
<h2><a class="anchor" id="nz_i2c1_conf"></a>
Configuration</h2>
<p>The following defines are used to configure this module, and should be placed in the projdefs.h (or similar) file. To configure the module, the required defines should be uncommented, and the rest commented out. </p>
<div class="fragment"><div class="line"><span class="comment">// *********************************************************************</span></div>
<div class="line"><span class="comment">// -------------- I2C1 Configuration (from nzrI2C.h) -------------------</span></div>
<div class="line"><span class="comment">// *********************************************************************</span></div>
<div class="line"><span class="preprocessor">#define I2C1_TEST  0               //Test Config Setting</span></div>
</div><!-- fragment --><h1><a class="anchor" id="nz_i2c1_lic"></a>
Software License Agreement</h1>
<p>The software supplied herewith is owned by Modtronix Engineering, and is protected under applicable copyright laws. The software supplied herewith is intended and supplied to you, the Company customer, for use solely and exclusively on products manufactured by Modtronix Engineering. The code may be modified and can be used free of charge for commercial and non commercial applications. All rights are reserved. Any use in violation of the foregoing restrictions may subject the user to criminal sanctions under applicable laws, as well as to civil liability for the breach of the terms and conditions of this license.</p>
<p>THIS SOFTWARE IS PROVIDED IN AN 'AS IS' CONDITION. NO WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.</p>
<p>File History</p>
<p>2011-06-02, David Hosken (DH):</p>
<ul>
<li>Initial version </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a06f3f8c37f0c7df04d7fcdc8aaadebf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1BusCollision</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(PIR2bits.BCLIF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test if a bus collision has occurred. Return TRUE if it did, else FALSE !!!!!!!!!!!! Have to port to PIC24F !!!!!!!!!!!!!!!!!!!! </p>

</div>
</div>
<a class="anchor" id="aa801385ef5d1dfa80d0aed9751e0feec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1Close</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{CloseI2C1();}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable I2C module. This function disables the I2C module and clears the Master and Slave Interrupt Enable and Flag bits. </p>

</div>
</div>
<a class="anchor" id="a26c464cce6c334ea9c3db08d6f737baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1DataRdy</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(I2C1STATbits.RBF==1 ? TRUE : FALSE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the I2CRCV register contains any data that can be read.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="nz__i2c1_8h.html#a26c464cce6c334ea9c3db08d6f737baa">i2c1DataRdy</a>())</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="nz__i2c1_8h.html#ac3a772096fd5dd1f0867268742811a06">i2c1ReadByte</a>(&amp;var, 0);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>1 if there is data in the I2CRCV register 0 if there is no data in the I2CRCV register </dd></dl>

</div>
</div>
<a class="anchor" id="a750c0eb7af4d950dfd4f041e9264cd3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1IsIdle</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(((I2C1CONbits &amp; 0x1F) || (I2C1STATbits.TRSTAT)) ? FALSE : TRUE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the I2C bus is IDLE, and available to be used. The <a class="el" href="nz__i2c1_8h.html#a750c0eb7af4d950dfd4f041e9264cd3c">i2c1IsIdle()</a> function is required since the hardware I2C peripheral does not allow for spooling of bus sequences. The I2C peripheral must be in an IDLE state before an I2C operation can be initiated or a write collision will be generated.</p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if I2C bus is idle and can be used <br/>
 FALSE if I2C bus is NOT idle. User has to wait until bus is idle before using it. </dd></dl>

</div>
</div>
<a class="anchor" id="ae3aae81754abe160fa04f3f1ca99c71e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutAck</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div>
<div class="line">    I2C1CONbits.ACKDT = 0;  <span class="comment">/* set acknowledge bit for ACK */</span> \</div>
<div class="line">    I2C1CONbits.ACKEN = 1;  <span class="comment">/* initiate bus acknowledge sequence */</span> \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Generate bus ACK condition When operating as I2C master. Applicable during master receive. </p>

</div>
</div>
<a class="anchor" id="a3944969a5898e128cb5acdf3c06b8192"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutAckAndWait</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div>
<div class="line">    I2C1CONbits.ACKDT = 0;  <span class="comment">/* set acknowledge bit for ACK */</span> \</div>
<div class="line">    I2C1CONbits.ACKEN = 1;  <span class="comment">/* initiate bus acknowledge sequence */</span> \</div>
<div class="line">    while(I2C1CONbits.ACKEN); <span class="comment">/*Wait till finished*/</span> \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Generate bus ACK condition, and waits until it is finished When operating as I2C master. Applicable during master receive. </p>

</div>
</div>
<a class="anchor" id="ab38f411a749480dbcae795b595a01b18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutNack</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{I2C1CONbits.ACKDT=1; I2C1CONbits.ACKEN=1; }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus Not ACK condition. When operating as I2C master. Applicable during master receive. </p>

</div>
</div>
<a class="anchor" id="aca55c460478ec2c66a57d3076dbfc0a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutNackAndWait</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{I2C1CONbits.ACKDT=1; I2C1CONbits.ACKEN=1; while(I2C1CONbits.ACKEN); /*Wait till finished*/}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus Not ACK condition, and waits until it is finished. When operating as I2C master. Applicable during master receive. </p>

</div>
</div>
<a class="anchor" id="ac2f3b0e53c94687d2b72ec43a817bbc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutStart</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(I2C1CONbits.SEN = 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus start condition </p>

</div>
</div>
<a class="anchor" id="ad7fc76e9e2124e69a39637a7f2cd4064"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutStartAndWait</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#ac2f3b0e53c94687d2b72ec43a817bbc8">i2c1PutStart</a>(); while(I2C1CONbits.SEN);}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus start condition, and waits until it is finished </p>

</div>
</div>
<a class="anchor" id="af4f0f87ecf68c26d0e8864a115c74f5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutStop</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(I2C1CONbits.PEN = 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus stop condition </p>

</div>
</div>
<a class="anchor" id="ab2482fb4354d010ad576cee9967027f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1PutStopAndWait</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#af4f0f87ecf68c26d0e8864a115c74f5a">i2c1PutStop</a>(); while(I2C1CONbits.PEN);}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus stop condition, and waits until it is finished </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a17">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a05cff5885e318e19dd720d877a50b219"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1Restart</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(I2C1CONbits.RSEN = 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus restart condition </p>

</div>
</div>
<a class="anchor" id="a275adefec5c3dfd8c1e8f0a97fb1c1f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1RestartAndWait</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{<a class="el" href="nz__i2c1_8h.html#a05cff5885e318e19dd720d877a50b219">i2c1Restart</a>(); while (I2C1CONbits.RSEN);}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate bus restart condition, and waits until it is finished </p>

</div>
</div>
<a class="anchor" id="a0e0d529531fae35933f378385f4ed639"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1WaitForIdle</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;{while ((I2C1CON &amp; 0x001f) || I2C1STATbits.TRSTAT);}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits until the I2C bus is IDLE, and available to be used. This function will be in a wait state until Start Condition Enable bit, Stop Condition Enable bit, Receive Enable bit, Acknowledge Sequence Enable bit of I2C Control register and Transmit Status bit I2C Status register are clear. The IdleI2C function is required since the hardware I2C peripheral does not allow for spooling of bus sequence. The I2C peripheral must be in Idle state before an I2C operation can be initiated or write collision will be generated. </p>

</div>
</div>
<a class="anchor" id="ae78da9424e2034e59d9b1dde4e35fd87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c1WasAckReceived</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;(!I2C1STATbits.ACKSTAT)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tests if an ACK was received from the slave. Returns true if it was, else false. </p>

</div>
</div>
<a class="anchor" id="ac417e83e98875bda6982e8e32054d6a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BAUD_100K&#160;&#160;&#160;157</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by i2cxOpen() function to set baud rate to 100 kbits/sec </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="db66dev1_lcd2s_2main_8c-example.html#a5">db66dev1_lcd2s/main.c</a>, and <a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a15">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a53049ae3551ef484ef1ac763b0294faf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BAUD_1M&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by i2cxOpen() function to set baud rate to 1 Mbits/sec (actually 1.03 Mbit/sec) </p>

</div>
</div>
<a class="anchor" id="ab432ac6a5a3213ff40eef8cca1440374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BAUD_400K&#160;&#160;&#160;37</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by i2cxOpen() function to set baud rate to 400 kbits/sec </p>

</div>
</div>
<a class="anchor" id="a97abe86894c656b65c78f6146a33844f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_BAUD_970K&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by i2cxOpen() function to set baud rate to 970 kbits/sec </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa2c647ae44fe348b8613100ef5f793ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c1Open </td>
          <td>(</td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>baud</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the I2C port in 7-bit Master mode. This is the default used by I2C devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baud</td><td>Set the baud rate of the device. use a I2C_BAUD_XX define. For example, I2C_BAUD_400K or I2C_BAUD_100K or I2C_BAUD_1M </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="db66dev1_lcd2s_2main_8c-example.html#a4">db66dev1_lcd2s/main.c</a>, and <a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a14">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ac3a772096fd5dd1f0867268742811a06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1ReadByte </td>
          <td>(</td>
          <td class="paramtype">UINT8 *&#160;</td>
          <td class="paramname"><em>dataByte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>ack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read single byte from I2C bus, send ACK/NACK</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataByte</td><td>Read byte (Contents of I2C1RCV register) is returned in the variable</td></tr>
    <tr><td class="paramname">ack</td><td>Indicates if a ACK is sent after reading the byte. During sequencial read the master will usually send an ACK after each byte read except the last byte. Not sending the ack will indicate to the slave that this is the end of sequential read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="a563c226bf741e2c3c7a7385a5d3278b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1ReadSlaveReg </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>regAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8 *&#160;</td>
          <td class="paramname"><em>dataByte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the byte value of an I2C slave register. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is clear (R/W = 0 = Write)</li>
<li>Writes the given 'register address'</li>
<li>Sends a restart condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is set (R/W = 1 = Read)</li>
<li>Read one byte (send NACK=last byte)</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Slave Address </td></tr>
    <tr><td class="paramname">regAdr</td><td>Register address to write to </td></tr>
    <tr><td class="paramname">dataByte</td><td>Single data byte for I2C bus</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="i2c1_lcd2s_txt_key_2main_8c-example.html#a5">i2c1_lcd2s_txt_key/main.c</a>, and <a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a1">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="acf5a97bcd1caa86481c593f0b2b9e22e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1ReadSlaveRegBlock </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>regAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8 *&#160;</td>
          <td class="paramname"><em>dataBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads given number of bytes from an I2C slave register. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is clear (R/W = 0 = Write)</li>
<li>Writes the given 'register address'</li>
<li>Sends a restart condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is set (R/W = 1 = Read)</li>
<li>Read the requested number of byte (send NACK=last byte)</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Control byte to write </td></tr>
    <tr><td class="paramname">regAdr</td><td>Register address to write to </td></tr>
    <tr><td class="paramname">dataBytes</td><td>Buffer to write bytes read from I2C bus </td></tr>
    <tr><td class="paramname">size</td><td>Number of data bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="ade544678d7b820823cf4b5361a574ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteByte </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>data_out</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine writes a single byte to the I2C bus. Does NOT wait for byte to be sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_out</td><td>Single data byte for I2C bus</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="a85c1ed1aefcff6653b8bc82cdecffe69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteByteAndWait </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>data_out</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine writes a single byte to the I2C bus, and waits until byte has been transmitted AND ACK/NACK received before returning. Use <a class="el" href="nz__i2c1_8h.html#ae78da9424e2034e59d9b1dde4e35fd87">i2c1WasAckReceived()</a> function to check if slave sent ACK.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_out</td><td>Single data byte for I2C bus</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="adce06ae2efbe5b6b4392707c7cb204f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteSlaveBlock </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8 *&#160;</td>
          <td class="paramname"><em>dataBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes given array to an I2C slave. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is cleared (R/W = 0 = Write)</li>
<li>Writes the given 'data bytes'</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Control byte to write </td></tr>
    <tr><td class="paramname">dataBytes</td><td>Array of data bytes for I2C bus </td></tr>
    <tr><td class="paramname">size</td><td>Number of data bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="acd9e13121824fa6e8582543485d402e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteSlaveByte </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>b1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes 1 byte to an I2C slave. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is cleared (R/W = 0 = Write)</li>
<li>Writes byte</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Slave Address </td></tr>
    <tr><td class="paramname">b1</td><td>Byte to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="a52e868db450ec3a8e9001372e1eb576d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteSlaveBytes </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>b2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes 2 byte to an I2C slave. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is cleared (R/W = 0 = Write)</li>
<li>Writes first byte</li>
<li>Writes second byte</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Slave Address </td></tr>
    <tr><td class="paramname">b1</td><td>First byte to write </td></tr>
    <tr><td class="paramname">b2</td><td>Second byte to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>

</div>
</div>
<a class="anchor" id="a8cf64d7145bd384920dc9e25e61d29ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteSlaveRegBlock </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>regAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8 *&#160;</td>
          <td class="paramname"><em>dataBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes given array to an I2C slave register. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is cleared (R/W = 0 = Write)</li>
<li>Writes the given 'register address'</li>
<li>Writes the given 'data bytes'</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Control byte to write </td></tr>
    <tr><td class="paramname">regAdr</td><td>Register address to write to </td></tr>
    <tr><td class="paramname">dataBytes</td><td>Array of data bytes for I2C bus </td></tr>
    <tr><td class="paramname">size</td><td>Number of data bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a16">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a58f759379c02d3a498719e3551eb3c15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT8 i2c1WriteSlaveRegString </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>slaveAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>regAdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes given string to an I2C slave register. This function does the following:</p>
<ul>
<li>Waits for bus to be idle</li>
<li>Sends a start condition on the bus</li>
<li>Writes the given 'slave address', LSB bit is cleared (R/W = 0 = Write)</li>
<li>Writes the given 'register address'</li>
<li>Writes the given string, until NULL terminator found</li>
<li>Puts a stop condition on the bus, and waits for it to be sent</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slaveAdr</td><td>Control byte to write </td></tr>
    <tr><td class="paramname">regAdr</td><td>Register address to write to </td></tr>
    <tr><td class="paramname">str</td><td>NULL terminated string to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, else returns a non-zero value if error </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="usb_2device__m_i_d_i__l_c_d_2main_8c-example.html#a7">usb/device_MIDI_LCD/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0497715779ca99cb1134d5ce544966ba.html">netcruzer</a></li><li class="navelem"><a class="el" href="dir_285a68def6f82363136d1caaa0fe0051.html">lib</a></li><li class="navelem"><a class="el" href="nz__i2c1_8h.html">nz_i2c1.h</a></li>
    <li class="footer">Generated on Sat Jan 18 2014 13:50:27 for Netcruzer Library API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
