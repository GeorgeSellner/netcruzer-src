<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Netcruzer: netcruzer/lib/nz_spiFlash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Netcruzer
   &#160;<span id="projectnumber">V1.03</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nz__spi_flash_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nz_spiFlash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for accessing an external SPI FLASH.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;HardwareProfile.h&quot;</code><br/>
</div>
<p><a href="nz__spi_flash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abffe66d6fd0dc20339b3cec1c5e8e2b4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abffe66d6fd0dc20339b3cec1c5e8e2b4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_FLASH_SECTOR_MASK</b>&#160;&#160;&#160;(SPI_FLASH_SECTOR_SIZE - 1)</td></tr>
<tr class="separator:abffe66d6fd0dc20339b3cec1c5e8e2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8476527eff51a771e9c1bd4addbb68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f8476527eff51a771e9c1bd4addbb68"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_FLASH_PAGE_MASK</b>&#160;&#160;&#160;(SPI_FLASH_PAGE_SIZE - 1)</td></tr>
<tr class="separator:a4f8476527eff51a771e9c1bd4addbb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a0cc5068a95492b1027a18f3cb5eb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61a0cc5068a95492b1027a18f3cb5eb0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashInit</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#aa065d125ee799f7efe3e5d782bbab3ee">xflashInit</a></td></tr>
<tr class="separator:a61a0cc5068a95492b1027a18f3cb5eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eff4e586dec8e85d4a80c2561cc96cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3eff4e586dec8e85d4a80c2561cc96cf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashReadArray</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#a46063bcee83d3f9866b64d99bae4afed">xflashReadArray</a></td></tr>
<tr class="separator:a3eff4e586dec8e85d4a80c2561cc96cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba66cd77d0bc3926006ae63ad56e6d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ba66cd77d0bc3926006ae63ad56e6d8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashBeginWrite</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#a2357fb42699564024eb67eeb3c930ec8">xflashBeginWrite</a></td></tr>
<tr class="separator:a8ba66cd77d0bc3926006ae63ad56e6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9cdd39b22846aadaaa8e3849a848fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d9cdd39b22846aadaaa8e3849a848fe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashWrite</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#af80a05178c79e102548c74636b08bf83">xflashWrite</a></td></tr>
<tr class="separator:a1d9cdd39b22846aadaaa8e3849a848fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e0917d125609dc4988da9ad1acc1c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84e0917d125609dc4988da9ad1acc1c7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashWriteArray</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#abe691fad4a2be0179273e3afd9fd0377">xflashWriteArray</a></td></tr>
<tr class="separator:a84e0917d125609dc4988da9ad1acc1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3914942981872101690408c5db1b05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a3914942981872101690408c5db1b05"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPIFlashEraseSector</b>&#160;&#160;&#160;<a class="el" href="nz__spi_flash_8h.html#a501f07be31177f14b97c408114a2ff0e">xflashEraseSector</a></td></tr>
<tr class="separator:a9a3914942981872101690408c5db1b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa065d125ee799f7efe3e5d782bbab3ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#aa065d125ee799f7efe3e5d782bbab3ee">xflashInit</a> (void)</td></tr>
<tr class="separator:aa065d125ee799f7efe3e5d782bbab3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46063bcee83d3f9866b64d99bae4afed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#a46063bcee83d3f9866b64d99bae4afed">xflashReadArray</a> (DWORD dwAddress, BYTE *vData, WORD wLen)</td></tr>
<tr class="separator:a46063bcee83d3f9866b64d99bae4afed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2357fb42699564024eb67eeb3c930ec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#a2357fb42699564024eb67eeb3c930ec8">xflashBeginWrite</a> (DWORD dwAddr)</td></tr>
<tr class="separator:a2357fb42699564024eb67eeb3c930ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80a05178c79e102548c74636b08bf83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#af80a05178c79e102548c74636b08bf83">xflashWrite</a> (BYTE vData)</td></tr>
<tr class="separator:af80a05178c79e102548c74636b08bf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe691fad4a2be0179273e3afd9fd0377"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#abe691fad4a2be0179273e3afd9fd0377">xflashWriteArray</a> (BYTE *vData, WORD wLen, BOOL bEraseSector)</td></tr>
<tr class="separator:abe691fad4a2be0179273e3afd9fd0377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501f07be31177f14b97c408114a2ff0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__spi_flash_8h.html#a501f07be31177f14b97c408114a2ff0e">xflashEraseSector</a> (DWORD dwAddr)</td></tr>
<tr class="separator:a501f07be31177f14b97c408114a2ff0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for accessing an external SPI FLASH. </p>
<dl class="section author"><dt>Author</dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="section user"><dt>Compiler:</dt><dd>MPLAB XC16</dd></dl>
<h1><a class="anchor" id="nz_spiFlash_desc"></a>
Description</h1>
<p>Code for reading and writing to and from a FLASH chip on the SPI bus. This file defines a interface for a external SPI Flash chip. The implementation has to be done in a separate c file by creating instances of these functions. The Netcruzer library contains a default implementations which can be used.</p>
<h2><a class="anchor" id="nz_spiFlash_conf"></a>
Configuration</h2>
<p>The following defines are used to configure this module, and should be placed in projdefs.h (or similar) file. To configure the module, the required defines should be uncommended, and the rest commented out. </p>
<div class="fragment"><div class="line"><span class="comment">// *********************************************************************</span></div>
<div class="line"><span class="comment">// ------------- spiFlash Configuration --------------</span></div>
<div class="line"><span class="comment">// *********************************************************************</span></div>
<div class="line"><span class="preprocessor">#define SPI_FLASH_SECTOR_SIZE      (4096ul)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SPI_FLASH_PAGE_SIZE        (0ul)       // SST has no page boundary requirements</span></div>
<div class="line"><span class="preprocessor">#define SPI_FLASH_PAGE_SIZE        (256ul)     // Winbond FLASH has 256 byte pages</span></div>
</div><!-- fragment --><h1><a class="anchor" id="nz_spiFlash_lic"></a>
Software License Agreement</h1>
<p>The software supplied herewith is owned by Modtronix Engineering, and is protected under applicable copyright laws. The software supplied herewith is intended and supplied to you, the Company customer, for use solely and exclusively on products manufactured by Modtronix Engineering. The code may be modified and can be used free of charge for commercial and non commercial applications. All rights are reserved. Any use in violation of the foregoing restrictions may subject the user to criminal sanctions under applicable laws, as well as to civil liability for the breach of the terms and conditions of this license.</p>
<p>THIS SOFTWARE IS PROVIDED IN AN 'AS IS' CONDITION. NO WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.</p>
<p>File History</p>
<p>2011-11-22, David H. (DH):</p>
<ul>
<li>Initial version, modified version of Microchip's nz_flash.h file from their TCP/IP stack </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2357fb42699564024eb67eeb3c930ec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashBeginWrite </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwAddr</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepares the SPI Flash module for writing. Subsequent calls to xflashWrite or xflashWriteArray will begin at this location and continue sequentially. Remarks: Flash parts have large sector sizes, and can only erase entire sectors at once. The Winbond parts for which this library was written have sectors that are 4kB in size. Your application must ensure that writes begin on a sector boundary so that the xflashWrite functions will erase the sector before attempting to write. Entire sectors need not be written at once, so applications can begin writing to the front of a sector, perform other tasks, then later call xflashBeginWrite and point to anaddress in this sector that has not yet been programmed. However, care must taken to ensure that writes are not attempted on addresses that are not in the erased state. The chip will provide no indication that the write has failed, and will silently ignore the command.</p>
<p>!!!!!!!!!!!!!! WINBOND - IMPORTANT !!!!!!!!!!!! Writing to the WINBOND Flash is disabled for up to 10ms after power up. During this time, the CS should be high!</p>
<p>xflashInit has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dwAddr</td><td>Address where the writing will begin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a501f07be31177f14b97c408114a2ff0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashEraseSector </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwAddr</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function erases a sector in the Flash part. It is called internally by the xflashWrite functions whenever a write is attempted on the first byte in a sector.</p>
<p>Remarks: See Remarks in xflashBeginWrite for important information about Flash memory parts.</p>
<p>xflashInit has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dwAddr</td><td>The address of the sector to be erased. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa065d125ee799f7efe3e5d782bbab3ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes SPI Flash module. This function is only called once during the lifetime of the application. Internal: This function sends WRDI to clear any pending write operation, and also clears the software write-protect on all memory locations. </p>

</div>
</div>
<a class="anchor" id="a46063bcee83d3f9866b64d99bae4afed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashReadArray </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>vData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>wLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads an array of bytes from the SPI Flash module.  xflashInit has been called, and the chip is not busy (should be handled elsewhere automatically.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dwAddress</td><td>Address from which to read </td></tr>
    <tr><td class="paramname">vData</td><td>Where to store data that has been read </td></tr>
    <tr><td class="paramname">wLength</td><td>Length of data to read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af80a05178c79e102548c74636b08bf83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashWrite </td>
          <td>(</td>
          <td class="paramtype">BYTE&#160;</td>
          <td class="paramname"><em>vData</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes a byte to the SPI Flash part. If the current address pointer indicates the beginning of a 4kB sector, the entire sector will first be erased to allow writes to proceed. If the current address pointer indicates elsewhere, it will be assumed that the sector has already been erased. If this is not true, the chip will silently ignore the write command.</p>
<p>Remarks: See Remarks in xflashBeginWrite for important information about Flash memory parts.</p>
<p>!!!!!!!!!!!!!! WINBOND - IMPORTANT !!!!!!!!!!!! Writing to the WINBOND Flash is disabled for up to 10ms after power up. During this time, the CS should be high!</p>
<p><a class="el" href="nz__spi_flash_8h.html#aa065d125ee799f7efe3e5d782bbab3ee">xflashInit()</a> and <a class="el" href="nz__spi_flash_8h.html#a2357fb42699564024eb67eeb3c930ec8">xflashBeginWrite()</a> have been called, and the current address is either the front of a 4kB sector or has already been erased.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vData</td><td>The byte to write to the next memory location. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe691fad4a2be0179273e3afd9fd0377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xflashWriteArray </td>
          <td>(</td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>vData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>wLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>bEraseSector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes an array of bytes to the SPI Flash part. When the address pointer crosses a sector boundary (and has more data to write), the next sector will automatically be erased. If the current address pointer indicates an address that is not a sector boundary and is not already erased, the chip will silently ignore the write command until the next sector boundary is crossed.</p>
<p>Remarks: See Remarks in <a class="el" href="nz__spi_flash_8h.html#a2357fb42699564024eb67eeb3c930ec8">xflashBeginWrite()</a> for important information about Flash memory parts.</p>
<p>!!!!!!!!!!!!!! WINBOND - IMPORTANT !!!!!!!!!!!! Writing to the WINBOND Flash is disabled for up to 10ms after power up. During this time, the CS should be high!</p>
<p><a class="el" href="nz__spi_flash_8h.html#aa065d125ee799f7efe3e5d782bbab3ee">xflashInit()</a> and <a class="el" href="nz__spi_flash_8h.html#a2357fb42699564024eb67eeb3c930ec8">xflashBeginWrite()</a> have been called, and the current address is either the front of a sector or has already been erased.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vData</td><td>The array to write to the next memory location</td></tr>
    <tr><td class="paramname">wLen</td><td>The length of the data to be written</td></tr>
    <tr><td class="paramname">bEraseSector</td><td>When true, will erase secotor if given address is on sector boundry (is first byte of new sector) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0497715779ca99cb1134d5ce544966ba.html">netcruzer</a></li><li class="navelem"><a class="el" href="dir_285a68def6f82363136d1caaa0fe0051.html">lib</a></li><li class="navelem"><a class="el" href="nz__spi_flash_8h.html">nz_spiFlash.h</a></li>
    <li class="footer">Generated on Sat Aug 3 2013 20:31:51 for Netcruzer by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
