<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Netcruzer Library API: netcruzer/lib/nz_interrupt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Netcruzer Library API
   &#160;<span id="projectnumber">V2.03</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nz__interrupt_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">nz_interrupt.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Code for using and configuring Interrupts.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="nz__io_ports_8h_source.html">nz_ioPorts.h</a>&quot;</code><br/>
</div>
<p><a href="nz__interrupt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51f291f83678490ff66faedb7182f337"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51f291f83678490ff66faedb7182f337"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USE_AND_OR</b></td></tr>
<tr class="separator:a51f291f83678490ff66faedb7182f337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0069cc4ef0e4b6187759418fbec82059"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0069cc4ef0e4b6187759418fbec82059"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_ON</b>&#160;&#160;&#160;INT_ENABLE</td></tr>
<tr class="separator:a0069cc4ef0e4b6187759418fbec82059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45aca82b779528afac48b2ebd885ecf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af45aca82b779528afac48b2ebd885ecf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_OFF</b>&#160;&#160;&#160;INT_DISABLE</td></tr>
<tr class="separator:af45aca82b779528afac48b2ebd885ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae681321f216bd4676430d2eb52e7ddbb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae681321f216bd4676430d2eb52e7ddbb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_7</b>&#160;&#160;&#160;INT_PRI_7</td></tr>
<tr class="separator:ae681321f216bd4676430d2eb52e7ddbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a731f5a5533344b5a446a35944b1858"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a731f5a5533344b5a446a35944b1858"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_6</b>&#160;&#160;&#160;INT_PRI_6</td></tr>
<tr class="separator:a9a731f5a5533344b5a446a35944b1858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f48c7aac40e7dc24f39c9926957d284"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f48c7aac40e7dc24f39c9926957d284"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_5</b>&#160;&#160;&#160;INT_PRI_5</td></tr>
<tr class="separator:a3f48c7aac40e7dc24f39c9926957d284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615dfcf6778ac48044c22fef480dc062"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a615dfcf6778ac48044c22fef480dc062"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_4</b>&#160;&#160;&#160;INT_PRI_4</td></tr>
<tr class="separator:a615dfcf6778ac48044c22fef480dc062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e8e46466a90684da4962646f271175"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03e8e46466a90684da4962646f271175"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_3</b>&#160;&#160;&#160;INT_PRI_3</td></tr>
<tr class="separator:a03e8e46466a90684da4962646f271175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aedd583f4c463a8363704fed1a7ebd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6aedd583f4c463a8363704fed1a7ebd0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_2</b>&#160;&#160;&#160;INT_PRI_2</td></tr>
<tr class="separator:a6aedd583f4c463a8363704fed1a7ebd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ec4cc23975f63512d17fd4c7c01ee4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8ec4cc23975f63512d17fd4c7c01ee4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_1</b>&#160;&#160;&#160;INT_PRI_1</td></tr>
<tr class="separator:ae8ec4cc23975f63512d17fd4c7c01ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf425584b4d518d10d131a25a415733e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf425584b4d518d10d131a25a415733e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANGE_INT_PRI_0</b>&#160;&#160;&#160;INT_PRI_0</td></tr>
<tr class="separator:abf425584b4d518d10d131a25a415733e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718d8db73123eb19695443b2b252ed40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>NZ_INT_DIS_PUSH</b>()</td></tr>
<tr class="separator:a718d8db73123eb19695443b2b252ed40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2c1839d1a1030875e55f9096362967"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>NZ_INT_EN_POP</b>()</td></tr>
<tr class="separator:a1e2c1839d1a1030875e55f9096362967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72a10c373a73955548e9572e25e05bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>NZ_INT_DIS_SAVE</b>(save_to)</td></tr>
<tr class="separator:ad72a10c373a73955548e9572e25e05bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3d2c3cfd7432f712a80c99738494c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>NZ_INT_EN_SAVE</b>(save_to)</td></tr>
<tr class="separator:a4c3d2c3cfd7432f712a80c99738494c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bf654c0994b32084bc4ebcd1d660f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#ae6bf654c0994b32084bc4ebcd1d660f0">NZ_INT_DISABLE_FIBERS</a>()&#160;&#160;&#160;NZOS_INT_KERNEL_DISABLE()</td></tr>
<tr class="separator:ae6bf654c0994b32084bc4ebcd1d660f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867fe9469efa54b561b074d61d7aae3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a867fe9469efa54b561b074d61d7aae3b">NZ_INT_ENABLE_FIBERS</a>()&#160;&#160;&#160;NZOS_INT_KERNEL_ENABLE()</td></tr>
<tr class="separator:a867fe9469efa54b561b074d61d7aae3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e4e6d10057c9d8f526098a7408a914"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#ae4e4e6d10057c9d8f526098a7408a914">NZ_INT_DISABLE_P07</a>()&#160;&#160;&#160;__builtin_disi(0x3FFF)</td></tr>
<tr class="separator:ae4e4e6d10057c9d8f526098a7408a914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc92db98e799d25fa04001e937c0eaeb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#afc92db98e799d25fa04001e937c0eaeb">NZ_INT_ENABLE_P07</a>()&#160;&#160;&#160;__builtin_disi(0)</td></tr>
<tr class="separator:afc92db98e799d25fa04001e937c0eaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae5c1927d9f8f101b43ece7b1b8b2a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a9ae5c1927d9f8f101b43ece7b1b8b2a3">NZ_BUILTIN_DISI</a>(val)&#160;&#160;&#160;__builtin_disi(val)</td></tr>
<tr class="separator:a9ae5c1927d9f8f101b43ece7b1b8b2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3f02b883d588d31a4b85fa5176c7f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a1d3f02b883d588d31a4b85fa5176c7f0">NZ_SET_AND_SAVE_CPU_IPL</a>(ipl, lvl)&#160;&#160;&#160;SET_AND_SAVE_CPU_IPL(ipl,lvl)</td></tr>
<tr class="separator:a1d3f02b883d588d31a4b85fa5176c7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8c9df0096f46cae6178d91623c9552"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a3c8c9df0096f46cae6178d91623c9552">NZ_RESTORE_CPU_IPL</a>(ipl)&#160;&#160;&#160;RESTORE_CPU_IPL(ipl)</td></tr>
<tr class="separator:a3c8c9df0096f46cae6178d91623c9552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29aaf8d0015c83d39cc7cfbe1991edb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#ad29aaf8d0015c83d39cc7cfbe1991edb">intOnChangeConfig</a>(conf)&#160;&#160;&#160;ConfigIntCN(conf)</td></tr>
<tr class="separator:ad29aaf8d0015c83d39cc7cfbe1991edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a90549cacaa43976303400e1aa101be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a6a90549cacaa43976303400e1aa101be">intOnChangeEnablePort</a>(portID)&#160;&#160;&#160;<a class="el" href="nz__io_ports_8h.html#a250cafd9eb906412c827d5095759d384">portSetBitadr</a>(<a class="el" href="nz__io_ports_8h.html#a2064b987455158c39903195636a5ac80">portGetCNIE</a>(portID))</td></tr>
<tr class="separator:a6a90549cacaa43976303400e1aa101be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3b10ae29db996307638227ee10a146"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#a2f3b10ae29db996307638227ee10a146">intOnChangeDisablePort</a>(portID)&#160;&#160;&#160;<a class="el" href="nz__io_ports_8h.html#ad80aee3a2105841b5e641d7897228d92">portClearBitadr</a>(<a class="el" href="nz__io_ports_8h.html#a2064b987455158c39903195636a5ac80">portGetCNIE</a>(portID))</td></tr>
<tr class="separator:a2f3b10ae29db996307638227ee10a146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7299a11a4c082cf639ba0801638a495"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nz__interrupt_8h.html#af7299a11a4c082cf639ba0801638a495">intOnChangeClearIF</a>()&#160;&#160;&#160;InputChange_Clear_Intr_Status_Bit</td></tr>
<tr class="separator:af7299a11a4c082cf639ba0801638a495"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code for using and configuring Interrupts. </p>
<dl class="section author"><dt>Author</dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="section user"><dt>Compiler:</dt><dd>MPLAB XC16</dd></dl>
<h1><a class="anchor" id="nz_interrupt_desc"></a>
Description</h1>
<p>Code for using and configuring Interrupts</p>
<h2><a class="anchor" id="nz_interrupt_conf"></a>
Configuration</h2>
<p>The following defines are used to configure this module, and should be placed in projdefs.h. Note that all items marked [-DEFAULT-] are defaults, and do not have to be placed in projdefs.h if they contain desired configuration! For details, see <a class="el" href="group__info__conf__proj.html">Project Configuration</a>. </p>
<div class="fragment"><div class="line"><span class="comment">// *********************************************************************</span></div>
<div class="line"><span class="comment">// ---------------------- ioPorts Configuration ------------------------</span></div>
<div class="line"><span class="comment">// *********************************************************************</span></div>
</div><!-- fragment --><h1><a class="anchor" id="nz_interrupt_lic"></a>
Software License Agreement</h1>
<p>The software supplied herewith is owned by Modtronix Engineering, and is protected under applicable copyright laws. The software supplied herewith is intended and supplied to you, the Company customer, for use solely and exclusively on products manufactured by Modtronix Engineering. The code may be modified and can be used free of charge for commercial and non commercial applications. All rights are reserved. Any use in violation of the foregoing restrictions may subject the user to criminal sanctions under applicable laws, as well as to civil liability for the breach of the terms and conditions of this license.</p>
<p>THIS SOFTWARE IS PROVIDED IN AN 'AS IS' CONDITION. NO WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.</p>
<p>File History</p>
<p>2013-11-20, David H. (DH):</p>
<ul>
<li>Initial version </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af7299a11a4c082cf639ba0801638a495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define intOnChangeClearIF</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;InputChange_Clear_Intr_Status_Bit</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Function:</dt><dd>void <a class="el" href="nz__interrupt_8h.html#af7299a11a4c082cf639ba0801638a495">intOnChangeClearIF(void)</a></dd></dl>
<p>Clear "Interrupt on Change" interrupt flag </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rotary_encoder_2main_8c-example.html#a1">rotary_encoder/main.c</a>, and <a class="el" href="sensor_dht11_dht22_2main_8c-example.html#a1">sensor_dht11_dht22/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ad29aaf8d0015c83d39cc7cfbe1991edb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define intOnChangeConfig</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conf)</td><td></td>
          <td>&#160;&#160;&#160;ConfigIntCN(conf)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Function:</dt><dd>void <a class="el" href="nz__interrupt_8h.html#ad29aaf8d0015c83d39cc7cfbe1991edb">intOnChangeConfig(BYTE portID)</a></dd></dl>
<p>Configure and Enable "Interrupt on Change". For example:</p>
<div class="fragment"><div class="line"><span class="comment">//Interrupt on change ISR</span></div>
<div class="line"><span class="keywordtype">void</span> __attribute__((interrupt,no_auto_psv)) _CNInterrupt(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code" href="nz__interrupt_8h.html#af7299a11a4c082cf639ba0801638a495">intOnChangeClearIF</a>();   <span class="comment">//Clear &quot;interrupt on change&quot; IF (interrupt flag)</span></div>
<div class="line">    <span class="comment">//Do something....</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//Configure the interrupt on change for ports 7 and 8 (old port names X7 and X8)</span></div>
<div class="line">enableIntOnChange(CHANGE_INT_ON|CHANGE_INT_PRI_6);  <span class="comment">//Enable Interrupt on chagne at Int Priority level 4</span></div>
<div class="line"><a class="code" href="nz__interrupt_8h.html#af7299a11a4c082cf639ba0801638a495">intOnChangeClearIF</a>();                               <span class="comment">//Clear &quot;interrupt on change&quot; IF (interrupt flag)</span></div>
<div class="line">enableIntOnChange(7);                   <span class="comment">//Enable &quot;interrupt on change&quot; for Port 7</span></div>
<div class="line">enableIntOnChange(8);                   <span class="comment">//Enable &quot;interrupt on change&quot; for Port 8</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>An OR'ed combination of:<ul>
<li>CHANGE_INT_ON - Enable Interrupt on Change</li>
<li>CHANGE_INT_OFF - Enable Interrupt on Change</li>
<li>CHANGE_INT_PRI_n - Where n is Interrupt priority 0-7. 0 is the lowest. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rotary_encoder_2main_8c-example.html#a5">rotary_encoder/main.c</a>, and <a class="el" href="sensor_dht11_dht22_2main_8c-example.html#a7">sensor_dht11_dht22/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a2f3b10ae29db996307638227ee10a146"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define intOnChangeDisablePort</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">portID)</td><td></td>
          <td>&#160;&#160;&#160;<a class="el" href="nz__io_ports_8h.html#ad80aee3a2105841b5e641d7897228d92">portClearBitadr</a>(<a class="el" href="nz__io_ports_8h.html#a2064b987455158c39903195636a5ac80">portGetCNIE</a>(portID))</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Function:</dt><dd>void <a class="el" href="nz__interrupt_8h.html#a2f3b10ae29db996307638227ee10a146">intOnChangeDisablePort(BYTE portID)</a></dd></dl>
<p>Disable "Interrupt on Change" for the given IO Port (port of SBC).</p>
<dl class="section user"><dt>Pre-Condition:</dt><dd>Interrupts on change must have already been configured with <a class="el" href="nz__interrupt_8h.html#ad29aaf8d0015c83d39cc7cfbe1991edb">intOnChangeConfig()</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portID</td><td>The "Port ID" of the requested port. Is a number from 0 to 41, also known as the "Netcruzer Port Name". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6a90549cacaa43976303400e1aa101be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define intOnChangeEnablePort</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">portID)</td><td></td>
          <td>&#160;&#160;&#160;<a class="el" href="nz__io_ports_8h.html#a250cafd9eb906412c827d5095759d384">portSetBitadr</a>(<a class="el" href="nz__io_ports_8h.html#a2064b987455158c39903195636a5ac80">portGetCNIE</a>(portID))</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Function:</dt><dd>void <a class="el" href="nz__interrupt_8h.html#a6a90549cacaa43976303400e1aa101be">intOnChangeEnablePort(BYTE portID)</a></dd></dl>
<p>Enables "Interrupt on Change" for the given IO Port (port of SBC).</p>
<dl class="section user"><dt>Pre-Condition:</dt><dd>Interrupts on change must have already been configured with <a class="el" href="nz__interrupt_8h.html#ad29aaf8d0015c83d39cc7cfbe1991edb">intOnChangeConfig()</a> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portID</td><td>The "Port ID" of the requested port. Is a number from 0 to 41, also known as the "Netcruzer Port Name". </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="rotary_encoder_2main_8c-example.html#a6">rotary_encoder/main.c</a>, and <a class="el" href="sensor_dht11_dht22_2main_8c-example.html#a8">sensor_dht11_dht22/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a9ae5c1927d9f8f101b43ece7b1b8b2a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_BUILTIN_DISI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val)</td><td></td>
          <td>&#160;&#160;&#160;__builtin_disi(val)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable interrupt for given number of instruction cycles </p>

</div>
</div>
<a class="anchor" id="a718d8db73123eb19695443b2b252ed40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_DIS_PUSH</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;push SR \n disi #3 \n mov #0xE0, W0 \n ior SR&quot;</span>       \</div>
<div class="line">    : <span class="comment">/* no outputs */</span>                                                  \</div>
<div class="line">    : <span class="comment">/* no inputs */</span>                                                   \</div>
<div class="line">    : <span class="stringliteral">&quot;w0&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad72a10c373a73955548e9572e25e05bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_DIS_SAVE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">save_to)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;disi #5 \n mov SR, W0 \n mov W0, %0 \n mov #0xE0, W0 \n ior SR&quot;</span>      \</div>
<div class="line">    : <span class="stringliteral">&quot;=g&quot;</span> (save_to) <span class="comment">/* Outputs */</span>                                                      \</div>
<div class="line">    : <span class="comment">/* no inputs */</span>                                                                   \</div>
<div class="line">    : <span class="stringliteral">&quot;w0&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6bf654c0994b32084bc4ebcd1d660f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_DISABLE_FIBERS</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;NZOS_INT_KERNEL_DISABLE()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable fibers </p>

</div>
</div>
<a class="anchor" id="ae4e4e6d10057c9d8f526098a7408a914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_DISABLE_P07</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;__builtin_disi(0x3FFF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable All Interrupt level, excluding level 7. For TMR1 and TMR2 interrupts (maybe more), if this method is used to disable interrupt, the IF is NOT set while interrupts are disabled!!!! Using NZ_SET_AND_SAVE_CPU_IPL to disabled interrupts does NOT disable these IF from getting set! </p>

</div>
</div>
<a class="anchor" id="a1e2c1839d1a1030875e55f9096362967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_EN_POP</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* Allow 2 instructions for push and pop! Compiler does not always use PUSH and POP! */</span> \</div>
<div class="line">    asm <span class="keyword">volatile</span> (<span class="stringliteral">&quot;disi #2 \n pop %0&quot;</span>                                   \</div>
<div class="line">    : <span class="stringliteral">&quot;+r&quot;</span> (SR) <span class="comment">/* Outputs */</span>                                           \</div>
<div class="line">    : <span class="comment">/* no inputs */</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c3d2c3cfd7432f712a80c99738494c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_EN_SAVE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">save_to)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;disi #3 \n mov %1, W0 \n mov W0, %0&quot;</span>                 \</div>
<div class="line">    : <span class="stringliteral">&quot;+r&quot;</span> (SR) <span class="comment">/* Outputs */</span>                                           \</div>
<div class="line">    : <span class="stringliteral">&quot;g&quot;</span> (save_to) <span class="comment">/* Inputs */</span>                                        \</div>
<div class="line">    : <span class="stringliteral">&quot;w0&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a867fe9469efa54b561b074d61d7aae3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_ENABLE_FIBERS</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;NZOS_INT_KERNEL_ENABLE()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable fibers </p>

</div>
</div>
<a class="anchor" id="afc92db98e799d25fa04001e937c0eaeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_INT_ENABLE_P07</td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td>&#160;&#160;&#160;__builtin_disi(0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable All Interrupt levels </p>

</div>
</div>
<a class="anchor" id="a3c8c9df0096f46cae6178d91623c9552"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_RESTORE_CPU_IPL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ipl)</td><td></td>
          <td>&#160;&#160;&#160;RESTORE_CPU_IPL(ipl)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restore CPU IPL to given level. </p>

</div>
</div>
<a class="anchor" id="a1d3f02b883d588d31a4b85fa5176c7f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NZ_SET_AND_SAVE_CPU_IPL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ipl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lvl&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;SET_AND_SAVE_CPU_IPL(ipl,lvl)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set CPU IPL to new level, and save current level to given var. All interrupts equal to AND lower than given level will be disabled. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0497715779ca99cb1134d5ce544966ba.html">netcruzer</a></li><li class="navelem"><a class="el" href="dir_285a68def6f82363136d1caaa0fe0051.html">lib</a></li><li class="navelem"><a class="el" href="nz__interrupt_8h.html">nz_interrupt.h</a></li>
    <li class="footer">Generated on Tue Dec 9 2014 15:08:19 for Netcruzer Library API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
