<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Netcruzer Webserver Project: Updating Webpages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen_proj.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Netcruzer Webserver Project
   &#160;<span id="projectnumber">V1.02</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__proj__webserver__updateweb.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Updating Webpages<div class="ingroups"><a class="el" href="group__proj__webserver__webpages.html">Webpages</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Web pages are written with standard HTML, and can contain JavaScript and other client side scripts. The default web pages at delivery are located in the ".../src/projects/webserver/WebPages/Default" folder of the <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__nz__download.html">Netcruzer Download</a>. To upload web pages to the SBC board, they are first compiled into a single "MPFS Image" file, and this file is then uploaded to the SBC board. There are a couple of ways to do this.</p>
<h1><a class="anchor" id="proj_webserver_updateweb_browser"></a>
Using a Browser</h1>
<p>To upload the web pages with a browser, they must fist be compiled to a single MPFS Image file. See <a class="el" href="group__proj__webserver__updateweb.html#proj_webserver_updateweb_mpfsimg">Creating a MPFS Image</a> section below for details on doing this. The MPFS Image file can be uploaded in one of the following ways:</p>
<ul>
<li>In a web browser, enter the following address: <br/>
<a href="http://mchpboard/mpfsupload">http://mchpboard/mpfsupload</a><br/>
 Where "mchpboard" is the target board's NetBIOS or IP address (default is mchpboard). A web page will now appear in the browser asking for the MPFS Image file. Browse to file, and upload it. This method also works for target boards that have no web page loaded on them, and is a fail save method to upload web pages regardless if the target contains valid web pages or not.</li>
<li>Enter the target board's address (default is <a href="http://mchpboard">http://mchpboard</a>) in a web browser, and select "Upload Firmware
  and Webpages" from menu on left. The page <a class="el" href="group__proj__webserver__webpages__default.html#proj_webserver_webpages_upload">shown here</a> will load. In the section with the "Upload Web Pages" button browse to desired MPFS Image file, and upload it. After refreshing your browser, it should now contain the new web pages.</li>
</ul>
<p>If asked for the username and password, use the default which is admin and microchip.</p>
<h1><a class="anchor" id="proj_webserver_updateweb_mpfs"></a>
Using the Modtronix Webpage Generator App</h1>
 
<div class="floatDivR">
    <img src="devtool_webpagegen.gif"/>
    <div style="margin:5px;">&nbsp;Picture 1. Modtronix Webpage Generator</div>
</div>
 <p>The <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__webpagegen.html">Modtronix Webpage Generator</a> application is used to create the MPFS Image and upload it to the target board. It can either be run directly, or by one of the script files, as described in the <a class="el" href="group__proj__webserver__updateweb.html#proj_webserver_updateweb_script">Using Scripts</a> section below. The <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__webpagegen.html">Modtronix Webpage Generator</a> application is located in the "Webpage Generator" folder of the <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__nz__download.html">Netcruzer Download</a>. Double click the WebpageGenMPFS.jar file to start the application(requires <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__java.html">JAVA</a>). It can also be downloaded from our site, links are <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__webpagegen.html">located here</a>.</p>
<p>The main dialog consists of 4 sections. To compile and upload the default web pages, do the following:</p>
<ul>
<li><b>Source Settings:</b> Check the "Webpage Directory" check box, and browse to the ".../src/projects/webserver/WebPages/Default" folder on your computer. This is a folder in the <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__nz__download.html">Netcruzer Download</a> you should have downloaded and unzipped.</li>
<li><b>Processing Options:</b> Check the "BIN Image" check box. This instructs the application to generate a MPFS Image file.</li>
<li><b>Output Files:</b> Browse to the Project Directory, which is the ".../src/projects/webserver" folder for this project. Give it a name in the "Image Name" box. The folder name has been used for all Netcruzer web pages, which will be "Default" for these web pages.</li>
<li><b>Upload Settings:</b> Click the "Settings" button in this section, and enter details of the target board. It is pre-configured with the default settings for the SBC66EC board. The username and password is admin and microchip. </li>
</ul>
<p>Once all details are entered, ensure your target board is connected to the network, and click on the "Generate and Upload" button. This will generate the MPFS Image file as specified in "Output Files" section of the app (Default.bin for this example), and upload it to the specified target board.  
<div class="clear"></div>
<h1><a class="anchor" id="proj_webserver_updateweb_script"></a>
Using Scripts</h1>
<p>A couple of <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__ant.html">Apache Ant</a> and bat script files are provided in the ".../src/projects/webserver/WebPages" folder to help with creating and uploading web pages. The "Xxxx" part in the file names below represents the folder name containing the web pages, for example "Default" for the default web pages.</p>
<ul>
<li>The "BuildXxxx.bat" scripts will create a MPFS Image for the given web page folder. For example, the "BuildDefault.bat" script will create the "Default.img" MPFS Image file for the web page files contained in the "Default" folder.</li>
<li>The "BuildAndUploadXxxx.bat" scripts will create a MPFS Image for the given web page folder, and upload it to the target board. The naming convention is the same as for the "BuildXxxx.bat" scripts described above. The host address, username and password used to upload the MPFS Image file are given in the "dowebXxx.xml" and "build.properties" <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__ant.html">Apache Ant</a> Script files.</li>
</ul>
<p>The scripts listed above use the "dowebXxx.xml" <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__ant.html">Apache Ant</a> Script files located in the same folder. For example, for the Default web pages located in the ".../src/projects/webserver/WebPages/Default" folder, the "BuildDefault.bat" and "BuildAndUploadDefault.bat" files use the "dowebDefault.xml" <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__ant.html">Apache Ant</a> Script file.</p>
<h1><a class="anchor" id="proj_webserver_updateweb_mpfsimg"></a>
Creating a MPFS Image</h1>
<p>As described above, the directory containing the web pages must be compiled into a single MPFS Image file before it can be uploaded to a target board. The methods described above create the MPFS Image file, and upload them to the target in a single step. Some times it is desirable to only create the MPFS Image file, for example to send it to customers so they can update their web pages. This can be done via the following methods: </p>
<h3>Using the Modtronix Webpage Generator App</h3>
<p>Follow instructions as given in <a class="el" href="group__proj__webserver__updateweb.html#proj_webserver_updateweb_mpfs">Using the Modtronix Webpage Generator App</a> section above. In the <b>Upload Settings</b> section of the application, uncheck the check box. The "Generate and Upload" button will now change to "Generate", and will only create a MPFS Image file when clicked. </p>
<h3>Using Scripts</h3>
<p>The "BuildXxxx.bat" script files in the ".../src/projects/webserver/WebPages" folder will create MPFS Image files for different projects. For example, the "BuildDefault.bat" file will create the "Default.img" file for the ".../src/projects/webserver/WebPages/Default" web page folder. These scripts use the "dowebXxx.xml" <a class="elRef" doxygen="E:/prj/netcruzer/doxygen/main.tag:../../" href="../../group__devtools__ant.html">Apache Ant</a> Scripts located in the same folder.</p>
<div class="hideElement"> <div class="image">
<img src="devtool_webpagegen.gif" alt="devtool_webpagegen.gif"/>
</div>
 </div> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Aug 13 2014 09:12:44 for Netcruzer Webserver Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
